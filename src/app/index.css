.hero {
  position: relative;
  width: 100vw;
  height: 135svh;
  overflow: hidden;
  background-color: #141313;
}

.hero .hero-bg {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 0; /* keep embed below gradient and content */
}

/* Subtle top vignette overlay above the embed (does not modify the background asset) */
.hero .hero-bg::after {
  content: "";
  position: absolute;
  inset: 0;
  pointer-events: none;
  /* Darken bright areas near the top and gently fade toward center */
  background: radial-gradient(
    120% 70% at 50% 12%,
    rgba(20, 19, 19, 0.45) 0%,
    rgba(20, 19, 19, 0.32) 38%,
    rgba(20, 19, 19, 0.16) 62%,
    rgba(20, 19, 19, 0) 82%
  );
}

.hero .hero-gradient {
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 50svh;
  background: #1a1818;
  background: linear-gradient(
    360deg,
    rgba(20, 19, 19, 1) 0%,
    rgba(20, 19, 19, 0) 100%
  );
  z-index: 2;
}

.hero .hero-content {
  position: absolute;
  top: 50svh;
  left: 50%;
  transform: translate(-50%, -50%);
  color: var(--base-100);
  text-align: center;
  width: 75%;
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: center;
  gap: 2rem;
  padding: 1rem;
  z-index: 3;
  /* Ensure local stacking so the scrim can sit behind text only */
  isolation: isolate;
}

/* Frosted, radial scrim behind hero text only (keeps background untouched) */
.hero .hero-content::before {
  content: none; /* remove background card */
}

/* Fallback when backdrop-filter isn't supported */
@supports not ((backdrop-filter: blur(1px)) or (-webkit-backdrop-filter: blur(1px))) {
  .hero .hero-content::before {
    background: radial-gradient(
      140% 110% at 50% 42%,
      rgba(20, 19, 19, 0.48) 0%,
      rgba(20, 19, 19, 0.34) 56%,
      rgba(20, 19, 19, 0.20) 78%,
      rgba(20, 19, 19, 0.10) 90%,
      rgba(20, 19, 19, 0) 100%
    );
  }
}

/* Keep content above the scrim */
.hero .hero-content > * {
  position: relative;
  z-index: 1;
}

/* Enhance contrast on headings and copy without altering brand colors */
.hero .hero-header h1 {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.35), 0 6px 18px rgba(0, 0, 0, 0.25);
  letter-spacing: -0.01em;
  text-wrap: balance;
}

.hero .hero-tagline p {
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.35), 0 6px 18px rgba(0, 0, 0, 0.2);
}

.hero .hero-tagline {
  width: 40%;
  color: var(--base-200);
}

.hero .hero-stats {
  position: absolute;
  bottom: 0;
  width: 100%;
  z-index: 3;
}

.hero .hero-stats .container {
  display: flex;
  gap: 1rem;
  width: 100%;
  /* Enable 3D space for roll-in animation */
  perspective: 1000px;
  -webkit-perspective: 1000px;
  transform-style: preserve-3d;
}

.hero .hero-stats .stat {
  flex: 1;
  display: flex;
  flex-direction: column;
  padding: 1rem;
  aspect-ratio: 16/9;
  color: var(--base-200);
  background-color: rgba(242, 237, 230, 0.1);
  backdrop-filter: blur(1rem);
  border-radius: 1rem;
  overflow: hidden;
  /* Help preserve 3D transforms during GSAP animation */
  transform-style: preserve-3d;
  backface-visibility: hidden;
}

.hero .hero-stats .stat-count,
.hero .hero-stats .stat-info {
  flex: 1;
}

.hero .hero-stats .stat-divider {
  width: 100%;
  height: 1px;
  background-color: rgba(255, 255, 255, 0.05);
}

.hero .hero-stats .stat-info {
  display: flex;
  align-items: flex-end;
}

@media (max-width: 1000px) {
  .hero {
    height: 175svh;
  }
  .hero .hero-content {
    width: 100%;
  }

  .hero .hero-tagline {
    width: 75%;
  }

  .hero .hero-stats .container {
    flex-direction: column;
  }

  .hero .hero-stats .stat {
    aspect-ratio: 16/6;
  }

  .hero .hero-stats .stat-divider {
    display: none;
  }
}

.what-we-do {
  width: 100vw;
  height: max-content;
  color: var(--base-100);
  /* Override global section overlay */
  background-color: transparent !important;
}

/* Ensure inner container has no background/shadow in this section */
.what-we-do .container {
  background: transparent !important;
  box-shadow: none !important;
}
.what-we-do .container h1 {
  margin-bottom: 10rem;
  color: var(--base-100);
}

  /* Refine long-form header typography in What We Do without changing content */
  .what-we-do .what-we-do-header h1 {
    /* Make large copy feel intentional and readable */
    font-size: clamp(1.75rem, 2.5vw + 1rem, 2.75rem);
    letter-spacing: -0.06rem; /* calmer than global h1 */
    line-height: 1.3;
    max-width: 60ch; /* limit line length for big content */
    margin: 0 auto 6rem auto;
    text-align: center;
    text-wrap: balance;
  }

  /* Hide the spacer only for this header to remove awkward indentation */
  .what-we-do .what-we-do-header h1 .spacer {
    display: none !important;
  }

  @media (max-width: 1000px) {
    .what-we-do .what-we-do-header h1 {
      font-size: clamp(1.25rem, 4.5vw + 0.5rem, 2rem);
      margin: 0 auto; /* remove extra bottom margin on mobile */
      max-width: 100%;
      padding: 0 1rem;
    }
  }

/* Mobile: vertically center the What We Do header while pinned */
@media (max-width: 1000px) {
  .what-we-do .what-we-do-header {
    min-height: 70svh; /* reduce visible whitespace above/below */
    display: flex;
    align-items: center;
    justify-content: center;
  }
}

/* Extra-small phones: make hero heading and tagline smaller to avoid overlap */
@media (max-width: 430px) {
  .hero .hero-header h1 {
    font-size: clamp(1.5rem, 6.2vw, 2.125rem);
    letter-spacing: -0.05rem;
    line-height: 1.15;
  }
  .hero .hero-tagline p {
    font-size: 0.95rem;
    line-height: 1.5;
  }
  /* Nudge hero content slightly lower to avoid overlapping nav/header on tiny screens */
  .hero .hero-content {
    top: 55svh;
  }
}

@media (max-width: 380px) {
  .hero .hero-header h1 {
    font-size: clamp(1.375rem, 6vw, 1.9rem);
  }
  .hero .hero-tagline p {
    font-size: 0.9rem;
  }
  .hero .hero-content {
    top: 57svh;
  }
}

.what-we-do .what-we-do-content {
  width: 100%;
  display: flex;
  gap: 2rem;
  background-color: transparent;
}

.what-we-do .what-we-do-col {
  flex: 1;
}

.what-we-do .what-we-do-col:nth-child(1) {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.what-we-do .what-we-do-col:nth-child(1) p.lg {
  color: var(--base-300);
  background-color: transparent;
  width: 50%;
}

/* Column header + description refinement (keep content, improve layout) */
.what-we-do .what-we-do-col:nth-child(1) h1 {
  /* Override global h1 scale for this smaller context */
  font-size: clamp(1.5rem, 1.25vw + 1rem, 2rem);
  letter-spacing: -0.02rem;
  line-height: 1.2;
  margin: 0 0 0.75rem 0; /* prevent huge 10rem spacing from container rule */
  text-align: left;
}

.what-we-do .what-we-do-col:nth-child(1) p.lg {
  width: auto; /* undo fixed 50% width */
  max-width: 60ch; /* use measure for comfortable reading */
  font-size: clamp(1rem, 0.3vw + 0.95rem, 1.125rem);
  line-height: 1.6;
  text-wrap: pretty;
}

@media (max-width: 1000px) {
  .what-we-do .what-we-do-col:nth-child(1) h1 {
    font-size: clamp(1.25rem, 3.5vw + 0.75rem, 1.75rem);
    margin-bottom: 0.5rem;
  }
  .what-we-do .what-we-do-col:nth-child(1) p.lg {
    max-width: 100%;
  }
}

.what-we-do .what-we-do-col:nth-child(1) p {
  color: var(--base-100);
}

.what-we-do .what-we-do-col:nth-child(2) p {
  width: 35%;
}

.what-we-do .what-we-do-col .what-we-do-tags {
  width: 100%;
}

.what-we-do .what-we-do-tag {
  display: inline-block;
  padding: 1rem 2rem;
  margin: 0 0.5rem 0.5rem 0;
  border: 1px solid var(--base-400);
  border-radius: 4rem;
}

@media (max-width: 1000px) {
  .what-we-do .container h1 {
    margin-bottom: 8rem;
  }

  .what-we-do-content {
    flex-direction: column;
  }

  .what-we-do .what-we-do-col:nth-child(1) p.lg {
    width: 100%;
  }

  .what-we-do .what-we-do-tag {
    padding: 0.75rem 1.5rem;
    margin: 0 0.25rem 0.25rem 0;
  }
}

.featured-projects-container {
  position: relative;
  width: 100vw;
  padding: 10rem 0 0 0;
  color: var(--base-100);
  background-color: transparent; /* remove section overlay background */
  overflow: visible; /* allow pinned/sticky cards to render above following section */
  z-index: 3; /* keep section above the next section during sticky/pin */
}

.featured-projects-container .featured-projects-header-callout,
.featured-projects-container .featured-projects-header {
  text-align: center;
}

.featured-projects-container .featured-projects-header-callout {
  color: var(--base-350);
  margin-bottom: 2rem;
}

.featured-projects-container .featured-projects-header {
  width: 50%;
  margin: 0 auto 2rem auto;
}

@media (max-width: 1000px) {
  .featured-projects-container .featured-projects-header {
    width: 100%;
  }
}

.client-reviews-container {
  position: relative;
  width: 100vw;
  height: 120svh;
  color: var(--base-100);
  padding: 18rem 0 2rem 0; /* increased top padding to bring header down */
  z-index: 1; /* sit below featured-projects when cards overlap */
  background-color: transparent !important; /* override global section overlay */
}

.client-reviews-container .container {
  background: transparent !important;
  border-radius: 0 !important;
  box-shadow: none !important;
}

.client-reviews-container .client-reviews-header-callout {
  text-align: center;
  color: var(--base-350);
  margin-bottom: 1rem;
}

@media (max-width: 1000px) {
  .client-reviews-container .client-reviews-header-callout {
    margin-bottom: 3rem;
  }
}

@media (min-height: 1200px) {
  .client-reviews-container {
    margin: 10rem 0 4rem 0;
    height: 60svh;
  }
}

/* Unicorn Studio: hide default branding inside the embed (if present) */
.hero .hero-bg [data-us-project] {
  background: transparent !important;
}
.hero .hero-bg [data-us-project] a[href*="unicornstudio"],
.hero .hero-bg [data-us-project] a[href*="hiunicornstudio"],
.hero .hero-bg [data-us-project] [class*="brand"],
.hero .hero-bg [data-us-project] [class*="logo"],
.hero .hero-bg [data-us-project] img[alt*="Unicorn" i],
.hero .hero-bg [data-us-project] img[src*="unicornstudio"] {
  display: none !important;
}

/* Fallback: hide any empty residual container that may remain */
.hero .hero-bg [data-us-project] [style*="width" i][style*="height" i] {
  background: transparent !important;
  box-shadow: none !important;
}

/* Global fallback: Unicorn Studio may append a fixed-position link to <body> */
body a[href*="unicorn.studio"],
body a[href*="unicornstudio"],
body a[href*="hiunicornstudio"] {
  display: none !important;
  opacity: 0 !important;
  visibility: hidden !important;
}

/* Fixed overlay mask (non-interactive) to cover any residual bottom-right watermark */
.unicorn-brand-cover {
  position: fixed;
  right: 0;
  bottom: 0;
  width: 240px;
  height: 140px;
  background: linear-gradient(225deg, rgba(20, 19, 19, 1) 20%, rgba(20, 19, 19, 0.85) 60%, rgba(20, 19, 19, 0) 100%);
  pointer-events: none;
  z-index: 9999;
}

@media (max-width: 1000px) {
  .unicorn-brand-cover {
    width: 180px;
    height: 110px;
  }
}

.gallery-callout {
  position: relative;
  width: 100vw;
  height: 100%;
  min-height: 100svh;
  display: flex;
  justify-content: center;
  align-items: center;
  overflow: hidden;
  background-color: transparent;
  color: var(--base-200);
}

.gallery-callout .container {
  width: 100%;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 2rem;
}

.gallery-callout .gallery-callout-col {
  flex: 1;
}

.gallery-callout .gallery-callout-copy {
  display: flex;
  flex-direction: column;
  gap: 2rem;
}

.gallery-callout .gallery-callout-col:nth-child(1) {
  display: flex;
  flex-direction: column;
  gap: 1rem;
}

.gallery-callout .gallery-callout-row {
  position: relative;
  left: -10vw;
  display: flex;
  width: 100%;
  gap: 1rem;
}

.gallery-callout .gallery-callout-img {
  position: relative;
  aspect-ratio: 5/4;
  flex: 1;
  border-radius: 0.75rem;
  overflow: hidden;
}

.gallery-callout .gallery-callout-img-content {
  position: absolute;
  z-index: 1;
  bottom: 1rem;
  left: 1rem;
  padding: 1rem;
  background-color: rgba(20, 19, 19, 0.25);
  backdrop-filter: blur(15px);
  color: var(--base-100);
  border-radius: 0.75rem;
}

.gallery-callout .gallery-callout-img-content p {
  color: var(--base-200);
}

.gallery-callout .gallery-callout-img-1 {
  flex: 0.75;
}

.gallery-callout .gallery-callout-img-4 {
  flex: 0.75;
}

.gallery-callout .gallery-callout-row:nth-child(1) {
  align-items: flex-end;
}

.gallery-callout .gallery-callout-row:nth-child(2) {
  align-items: flex-start;
}

@media (max-width: 1000px) {
  .gallery-callout .container {
    flex-direction: column;
  }

  .gallery-callout .gallery-callout-row {
    left: 0;
  }

  .gallery-callout .gallery-callout-img-content {
    display: none;
  }
}

/* --- Alignment utilities and mobile controls --- */
.align-left { text-align: left !important; }
.align-center { text-align: center !important; }
.align-right { text-align: right !important; }

.flex-center { display: flex !important; justify-content: center !important; align-items: center !important; }
.justify-center { justify-content: center !important; }
.items-center { align-items: center !important; }

[data-align="left"] { text-align: left !important; }
[data-align="center"] { text-align: center !important; }
[data-align="right"] { text-align: right !important; }

@media (max-width: 1000px) {
  .m-align-left { text-align: left !important; }
  .m-align-center { text-align: center !important; }
  .m-align-right { text-align: right !important; }

  .m-flex-center { display: flex !important; justify-content: center !important; align-items: center !important; }
  .m-justify-center { justify-content: center !important; }
  .m-items-center { align-items: center !important; }

  /* Default mobile centering improvements for key sections */
  .what-we-do .what-we-do-col:nth-child(1) h1,
  .what-we-do .what-we-do-col:nth-child(1) p.lg {
    text-align: center;
    margin-left: auto;
    margin-right: auto;
  }
  .what-we-do .what-we-do-tags {
    text-align: center;
  }
  .gallery-callout .gallery-callout-copy {
    align-items: center;
    text-align: center;
  }

  /* Attribute-based mobile alignment control */
  [data-align-mobile="left"] { text-align: left !important; }
  [data-align-mobile="center"] { text-align: center !important; }
  [data-align-mobile="right"] { text-align: right !important; }
}

